<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUXE Apparel</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
        /* --- Base Styles & Variables --- */




        :root {
            --color-primary: #f8de7e;
            --color-secondary: #939597;
            --color-background: #0a0a0a;
            --color-text: #ffffff;
            --color-text-secondary: #cccccc;
            --transition-fast: 0.3s ease;
            --transition-slow: 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--color-background);
            color: var(--color-text);
            overflow-x: hidden;
            line-height: 1.6;
            /* Crucial: Add top padding equal to the small header height */
            padding-top: 80px;
        }

        h1, h2, h3, h4 {
            font-family: var(--font-heading);
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            cursor: pointer;
            border: none;
            background: none;
            font-family: inherit;
        }

        .content-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transform: translateY(0);
            transition: opacity var(--transition-slow), transform var(--transition-slow);
        }
        .section.hidden {
            display: none;
        }
        .section.fade-out {
            opacity: 0;
            transform: translateY(-20px);
        }

        /* --- Hero Header --- */
#hero-header {
    position: relative;
    width: 100%;
    /* Starts full screen height */
    height: 100vh;
    background-color: var(--color-background);
    display: flex;
    align-items: flex-start;
    justify-content: center; /* Start centered for logo */
    padding-top: 20px;
    z-index: 1000;
    /* Prepare transitions for ALL changing properties */
    transition: height 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                padding-top 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                justify-content 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                background-color 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                box-shadow 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                position 0.8s cubic-bezier(0.86, 0, 0.07, 1); /* Add if position changes later */
    box-shadow: none;
    overflow: hidden;
}

        #hero-header.hide {
    transform: translateY(-100%); /* Move it completely above the viewport */
    /* Keep the existing transition for smoothness */
    transition: transform 0.5s ease-in-out, height 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                padding-top 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                justify-content 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                background-color 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                box-shadow 0.8s cubic-bezier(0.86, 0, 0.07, 1);
}

        #hero-header.fullscreen {
    height: 100vh;
    padding-top: 20px;
    justify-content: center; /* Keep logo centered initially */
    background-color: var(--color-background); /* Explicit background */
    box-shadow: none; /* Explicitly no shadow */
}

        /* Class for the initial full-screen state */


        body.scrolled #hero-header {
               position: fixed; /* Make it fixed for the sticky behavior */
    top: 0;
    left: 0;
            height: 80px; /* Adjust this to your desired final header height */
            padding-top: 10px;
            justify-content: flex-start; /* Align content (logo + nav) to the left */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); /* Add shadow when shrunk */
            background-color: rgba(10, 10, 10, 0.95); /* Slightly opaque background */
            align-items: center;
        }

        .logo-container {
    transition: width 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                height 0.8s cubic-bezier(0.86, 0, 0.07, 1),
                margin 0.8s cubic-bezier(0.86, 0, 0.07, 1);
    width: 300px;
    height: 300px;
    margin: auto 0;
}


body.scrolled #hero-header .logo-container {
    width: 60px;
    height: 60px;
    margin: 0;
    margin-left: 20px;
}

        /* Make logo large when header is fullscreen */
        #hero-header.fullscreen .logo-container {
             width: 300px; /* Adjust as needed for your logo */
             height: 300px; /* Adjust as needed for your logo */
        }
        #hero-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
            /* Transition the image itself if needed (e.g., filter) */
            transition: inherit;
        }

               /* --- Navigation --- */
        .header-nav {
            position: absolute; /* Position absolutely within the relative header */
            top: 30px; /* Center vertically in the initial large header */
            left: 50%;
            transform: translateX(-50%); /* Center it horizontally */
            display: flex;
            gap: 30px;
            opacity: 0; /* Start hidden */
            visibility: hidden;
                transition: opacity 0.5s ease 0.3s,
                visibility 0.5s ease 0.3s,
                transform 0.5s ease 0.3s;
        }

        body.scrolled #hero-header .header-nav {
            position: static; /* Reset to normal flow when header shrinks */
            transform: none; /* Reset transform */
            top: auto;
            left: auto;
            opacity: 1; /* Fade in when scrolled */
            visibility: visible;
            margin: 0 auto;
                transition: opacity 0.5s ease,
                visibility 0.5s ease,
                margin 0.5s ease;
        }

        .header-nav a {
            color: var(--color-text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
            letter-spacing: 1px;
            transition: color var(--transition-fast);
        }

        .header-nav a:hover {
            color: var(--color-primary);
        }

                #cart-icon {
            margin-left: auto; /* Push it to the far right */
            padding: 0 20px; /* Add some padding */
        }

        #cart-icon a {
            position: relative; /* For positioning the counter */
            color: var(--color-text-secondary);
            transition: color var(--transition-fast);
            font-size: 1.3rem; /* Adjust icon size */
        }

        #cart-icon a:hover {
            color: var(--color-primary);
        }

        #cart-count {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: var(--color-primary);
            color: var(--color-background);
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Ensure it's hidden by default and shown correctly */
        #cart-icon.hidden {
             display: none;
        }

        body.scrolled #hero-header #cart-icon { /* Visible when header is scrolled */
             display: block;
        }

        /* --- Gender Selection --- */
        #gender-selection {
            background: linear-gradient(to bottom, #1a1a1a, var(--color-background));
            /* Pull it up under the initial fullscreen header */
            /* margin-top: -100vh; */ /* Removed as we handle initial state differently */
        }
        #gender-selection h2 {
            text-align: center;
            margin-bottom: 50px;
            font-size: 2.5rem;
            color: var(--color-primary);
        }
       .gender-options {
            display: flex;
            justify-content: center;
            gap: 100px; /* Increase gap for luxury feel */
        }

        .gender-btn {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* Make them circular for a premium look */
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: transparent;
            border: 2px solid var(--color-secondary);
            color: var(--color-text);
            font-size: 1.5rem;
            font-weight: 500;
            overflow: hidden;
            transition: all var(--transition-fast);
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); /* Add initial shadow */
        }

        .gender-btn:hover {
            border-color: var(--color-primary);
            box-shadow: 0 0 25px var(--color-primary); /* Glow on hover */
            transform: translateY(-10px) scale(1.05); /* Lift and slight scale */
        }

        .gender-btn-icon {
            font-size: 4rem; /* Large icon size */
            margin-bottom: 20px;
            /* Color the icons */
            background: linear-gradient(45deg, var(--color-primary), #d4af37); /* Gold gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5)); /* Add depth to icon */
        }

        .gender-btn span {
            position: relative;
            z-index: 1;
            letter-spacing: 2px; /* Add letter spacing for luxury */
        }

        /* Optional: Add a subtle shine animation */
        .gender-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -60%;
            width: 40%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(25deg);
            transition: all 0.7s;
        }

        .gender-btn:hover::before {
            left: 120%;
        }

        /* --- Measurements --- */
        #measurements {
            background: var(--color-background);
        }
        #measurements h2 {
            text-align: center;
            margin-bottom: 50px;
            font-size: 2.5rem;
            color: var(--color-primary);
        }
        .measurement-controls {
            display: flex;
            justify-content: center;
            gap: 100px;
            margin-bottom: 40px;
        }
        .control-group label {
            display: block;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            color: var(--color-secondary);
        }
        .wheel-picker {
            height: 200px;
            overflow: hidden;
            position: relative;
            width: 100px;
        }
        .wheel-picker::before, .wheel-picker::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 70px;
            z-index: 2;
        }
        .wheel-picker::before {
            top: 0;
            background: linear-gradient(to bottom, var(--color-background), transparent);
        }
        .wheel-picker::after {
            bottom: 0;
            background: linear-gradient(to top, var(--color-background), transparent);
        }
        .picker-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            transition: transform 0.5s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }

                .wheel-picker, .picker-item {
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none;    /* Firefox */
            -ms-user-select: none;     /* IE10+/Edge */
            user-select: none;         /* Standard syntax */
            cursor: grab;              /* Indicate it's draggable */
        }
        .wheel-picker:active, .picker-item:active {
             cursor: grabbing;         /* Indicate dragging */
        }
        
        .picker-item {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            opacity: 0.5;
            transition: all 0.2s ease;
        }

        .picker-item:hover{
            cursor: pointer;
        }
        .picker-item.active {
            opacity: 1;
            font-size: 2rem;
            font-weight: bold;
            color: var(--color-primary);
        }
        .luxury-btn, #confirm-measurements {
            display: block;
            width: 100%;
            max-width: 300px; /* Constrain width for better look */
            margin: 0 auto; /* Center the button */
            padding: 18px 20px; /* Increase padding for a more substantial feel */
            /* Luxurious gradient background */
            background: linear-gradient(to right, var(--color-primary), #e6c86e);
            color: var(--color-background);
            font-family: var(--font-heading); /* Use heading font for luxury */
            font-weight: 700; /* Bold */
            font-size: 1.2rem; /* Slightly larger font */
            letter-spacing: 2px; /* Increase letter spacing */
            text-transform: uppercase; /* Uppercase for impact */
            border: none;
            border-radius: 3px; /* Slight rounding */
            cursor: pointer;
            /* Initial subtle shadow */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2), 0 0 0 0px rgba(248, 222, 126, 0.3);
            /* Transition for all changing properties */
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); /* Custom smooth easing */
            position: relative;
            overflow: hidden; /* Contain the shine effect */
            z-index: 1; /* Ensure button content is above pseudo-elements */
        }

        /* Create a layered background effect */
        .luxury-btn::before, #confirm-measurements::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
            z-index: -1; /* Behind the button background */
        }

        /* Hover state */
        .luxury-btn:hover, #confirm-measurements:hover {
            /* Enhanced shadow with a golden glow */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 15px rgba(248, 222, 126, 0.5);
            /* Lift the button */
            transform: translateY(-5px);
            /* Slightly shift the background gradient */
            background: linear-gradient(to right, #f9e6a3, #e0c05c);
        }

        /* Animate the shine effect on hover */
        .luxury-btn:hover::before, #confirm-measurements:hover::before {
            transform: translateX(100%);
        }

        /* Active/Pressed state */
        .luxury-btn:active, #confirm-measurements:active {
            /* Press the button down */
            transform: translateY(-2px);
            /* Reduce the shadow and glow on press */
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2), 0 0 5px rgba(248, 222, 126, 0.3);
            /* Slightly darken the background on press */
            background: linear-gradient(to right, #e0c05c, #d4b85a);
            transition: all 0.1s ease; /* Faster transition on press */
        }

        /* Focus state for accessibility */
        .luxury-btn:focus, #confirm-measurements:focus {
             outline: 2px dashed var(--color-primary);
             outline-offset: 2px;
        }

        /* Ensure the specific ID styles are applied (if needed, though the class should cover it) */
        #confirm-measurements {
             /* Any styles specific to confirm button not covered by .luxury-btn */
             margin-top: 20px; /* Keep the top margin */
        }

        /* If you want the .luxury-btn class to be slightly different from #confirm-measurements */
        .luxury-btn {
            margin-top: 20px; /* Add margin if used elsewhere generically */
            /* Example: slightly different gradient or effect for other uses */
            /* background: linear-gradient(to bottom, var(--color-primary), #e6c86e); */
        }



              /* --- User Details Summary --- */
        #user-details {
            background: linear-gradient(to bottom, #1a1a1a, var(--color-background));
            text-align: center;
            /* Add a subtle entrance animation for the whole section */
            opacity: 0;
            transform: translateY(20px);
            animation: sectionFadeIn 0.6s ease-out 0.2s forwards;
        }

        @keyframes sectionFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #user-details h2 {
            margin-bottom: 50px;
            font-size: 2.5rem;
            color: var(--color-primary);
            /* Add a subtle shimmer or glow effect to the title */
            text-shadow: 0 0 10px rgba(248, 222, 126, 0.3);
            /* Optional: Animate the title slightly after the section appears */
            opacity: 0;
            animation: titlePopIn 0.5s ease-out 0.5s forwards;
        }

        @keyframes titlePopIn {
             0% { opacity: 0; transform: translateY(-10px) scale(0.95); }
             70% { opacity: 1; transform: translateY(2px) scale(1.02); }
             100% { opacity: 1; transform: translateY(0) scale(1); }
        }


        .profile-card {
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a); /* Slightly more complex gradient */
            border: 2px solid transparent; /* Border will be handled by pseudo-element */
            border-radius: 15px;
            padding: 30px;
            width: 100%;
            max-width: 500px;
            margin: 0 auto 40px auto; /* Increased margin below */
            /* Main shadow */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateY(20px);
            /* Stagger the animation start for a cascading effect */
            animation: cardEntrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s forwards;
            position: relative;
            overflow: hidden; /* Contain the pseudo-elements */
        }

        /* Create a glowing border effect using pseudo-elements */
        .profile-card::before {
            content: '';
            position: absolute;
            top: -4px; right: -4px; bottom: -4px; left: -4px;
            background: linear-gradient(45deg, #ffe388, #d4af3733, #f7da7ab2, #d4af372c);
            border-radius: 15px;
            z-index: -1;
            /* Animate the gradient for a subtle shimmer */
            animation: borderShimmer 3s ease-in-out infinite;
            /* Initially hidden, shown with the card */
            opacity: 0;
            animation-delay: 0.4s; /* Match card delay */
        }

        .profile-card::after {
             content: '';
             position: absolute;
             top: 1; left: 1; right: 1; bottom: 1;
             border-radius: 13px; /* Slightly smaller than border-radius */
             background: inherit; /* Match the card's background */
             z-index: -1;
        }

        @keyframes borderShimmer {
             0% { background-position: 0% 50%; opacity: 0.7; }
             50% { background-position: 100% 50%; opacity: 1; }
             100% { background-position: 0% 50%; opacity: 0.7; }
        }

        @keyframes cardEntrance {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.98);
            }
            70% {
                 opacity: 1;
                 /* Slight overshoot for a soft landing */
                 transform: translateY(-5px) scale(1.01);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .profile-header {
            margin-bottom: 25px; /* Increased margin */
            padding-bottom: 15px;
            /* Use a gradient border for luxury */
            border-bottom: 1px solid transparent;
            border-image: linear-gradient(to right, rgba(147, 149, 151, 0), var(--color-secondary), rgba(147, 149, 151, 0));
            border-image-slice: 1;
        }

        .profile-header h3 {
            color: var(--color-primary);
            font-size: 2rem; /* Slightly larger */
            margin: 0;
            /* Add a subtle text shadow */
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .profile-body {
            text-align: left;
            font-size: 1.2rem;
            /* Add some padding inside */
            padding: 0 10px;
        }

        .profile-body p {
            margin-bottom: 18px; /* Increased margin */
            /* Add a fade-in effect for the text lines */
            opacity: 0;
            transform: translateX(10px);
        }

        /* Animate the text lines sequentially */
        .profile-body p:nth-child(1) {
            animation: textSlideIn 0.4s ease-out 0.7s forwards;
        }
        .profile-body p:nth-child(2) {
            animation: textSlideIn 0.4s ease-out 0.8s forwards;
        }
        .profile-body p:nth-child(3) {
            animation: textSlideIn 0.4s ease-out 0.9s forwards;
            margin-bottom: 0; /* Remove margin on last item */
        }

        @keyframes textSlideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .profile-body strong {
            color: var(--color-text-secondary);
            /* Make the labels stand out slightly */
            font-weight: 500;
        }

        /* Style the data values */
        .profile-body span {
            color: var(--color-text);
            margin-left: 10px; /* Space between label and value */
        }

        /* --- Enhanced Start Shopping Button --- */
        #start-shopping-btn {
            opacity: 0;
            transform: translateY(20px);
            /* More complex entrance animation for the button */
            animation: buttonEntrance 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 1.1s forwards;
            position: relative;
            /* Add initial subtle shadow */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 1.2rem; /* Slightly larger text */
            letter-spacing: 1.5px; /* Increase letter spacing */
            padding: 18px 20px; /* Increase padding */
            max-width: 300px; /* Constrain button width */
            margin: 0 auto; /* Center the button */
            border-radius: 5px; /* Slightly rounded corners */
            /* Add a subtle background gradient */
            background: linear-gradient(to bottom, var(--color-primary), #e6c86e);
            color: var(--color-background);
            font-weight: 500; /* Slightly bolder */
            border: none; /* Remove default border */
            overflow: hidden; /* For the shine effect */
            transition: all 0.3s ease; /* Smooth transition for hover effects */
        }

        /* Shine effect on button */
        #start-shopping-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        #start-shopping-btn:hover {
            /* Enhance glow and shadow on hover */
            box-shadow: 0 6px 20px rgba(248, 222, 126, 0.4), 0 0 15px rgba(248, 222, 126, 0.3);
            transform: translateY(-3px); /* Lift slightly */
            background: linear-gradient(to bottom, #f9e6a3, #e0c05c); /* Slightly different gradient on hover */
        }

        #start-shopping-btn:hover::before {
            left: 100%; /* Animate the shine effect */
        }

        #start-shopping-btn:active {
             transform: translateY(-1px); /* Slight press down */
             box-shadow: 0 3px 10px rgba(248, 222, 126, 0.3);
        }


          #luxury-footer {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: var(--color-text-secondary);
            padding: 60px 0 0 0; /* Top padding, no bottom padding */
            position: relative;
            overflow: hidden; /* Contain pseudo-elements */
            font-family: var(--font-body);
            border-top: 1px solid rgba(147, 149, 151, 0.2); /* Subtle top border */

        }

        #luxury-footer.hidden {
    display: none; /* This is the rule that hides it initially */
}

        /* Diagonal stripes background pattern */
        #luxury-footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: repeating-linear-gradient(
                45deg,
                rgba(147, 149, 151, 0.03) 0px,
                rgba(147, 149, 151, 0.03) 2px,
                transparent 2px,
                transparent 10px
            );
            z-index: 0; /* Behind content */
        }

        /* Subtle animated shine effect */
        #luxury-footer::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -100%;
            width: 50%;
            height: 200%;
            background: linear-gradient(
                to right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.05) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(25deg);
            animation: footerShine 6s linear infinite;
            z-index: 0; /* Behind content */
        }

        @keyframes footerShine {
            0% {
                left: -100%;
            }
            100% {
                left: 200%;
            }
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* Wrap on small screens */
            position: relative;
            z-index: 1; /* Above pseudo-elements */
        }

        .footer-section {
            flex: 1; /* Take equal space */
            min-width: 250px; /* Minimum width before wrapping */
            margin-bottom: 30px;
            padding: 0 15px;
            text-align: center; /* Center content by default */
        }

        .footer-section h4 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
            letter-spacing: 1px;
            position: relative;
            display: inline-block;
        }

        /* Underline effect for section headings */
        .footer-section h4::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -5px;
            width: 50%;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--color-primary), transparent);
            transform: translateX(-50%);
        }

        .footer-section p {
            margin: 8px 0;
            font-size: 0.95rem;
        }

        .footer-section i {
            margin-right: 10px;
            color: var(--color-primary);
            width: 15px; /* Consistent icon width */
            text-align: center;
        }

        /* Specific styles for 'Made By' section */
        .made-by .footer-logo-placeholder {
             font-family: var(--font-heading);
             font-size: 1.8rem;
             font-weight: 700;
             color: var(--color-primary);
             margin-top: 10px;
             letter-spacing: 1px;
             /* Add a subtle text shadow */
             text-shadow: 0 0 8px rgba(248, 222, 126, 0.2);
        }

        /* Specific styles for Logo Area */
        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .footer-logo {
            max-height: 80px; /* Adjust size as needed */
            opacity: 0.8;
            filter: grayscale(50%); /* Slightly desaturated */
            transition: all 0.3s ease;
        }

        .footer-logo:hover {
            opacity: 1;
            filter: grayscale(0%);
            transform: scale(1.05);
        }

        /* Bottom decorative bar */
        .footer-bottom-bar {
            height: 5px;
            background: linear-gradient(to right, transparent, var(--color-primary), transparent);
            margin-top: 20px;
            position: relative;
            z-index: 1; /* Above pseudo-elements */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .footer-content {
                flex-direction: column;
                align-items: center;
            }

            .footer-section {
                min-width: 100%;
                margin-bottom: 40px;
            }

             .footer-section h4::after {
                 width: 80%; /* Wider underline on mobile */
             }
        }

        @keyframes buttonEntrance {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            70% {
                opacity: 1;
                /* Slight overshoot */
                transform: translateY(-5px) scale(1.02);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        /* --- End User Details Summary --- */

        /* --- Responsive --- */
        @media (max-width: 768px) {
            .gender-options {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            .measurement-controls {
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }
            .product-categories {
                gap: 20px;
            }
            .product-category {
                width: 140px;
                height: 140px;
            }
            .modal-content {
                width: 95%;
            }
            .modal-body {
                padding: 50px 20px 20px 20px;
            }
             body {
                padding-top: 60px; /* Adjust for smaller mobile header */
            }
            #hero-header {
                height: 60px; /* Smaller default height on mobile */
            }
            .logo-container {
                width: 60px;
                height: 60px;
            }
            #hero-header.fullscreen .logo-container {
                 width: 200px; /* Smaller initial logo on mobile */
                 height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Header starts in fullscreen mode -->
    <header id="hero-header">
        <div class="logo-container">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgjlmeT_AuR0_pgKGpXErDKGvP9hYvxQ2SzIWPcYurBeUYx8YzF573Tr9JGtSO0d3oWzqDlpuEE2AdDvRRTNVYXCr_waXo8e-xd37go3U2DeJ9LdB0pKj4525wI10BjkDr_9tkultq_vmtZCwpMoeCcZjNxKR8Nrdc2r_V55RVyCeuDfahWWfziZxFUdR65/s2000/2.png" alt="LUXE Logo" id="hero-logo">
        </div>
        <nav class="header-nav">
            <a href="#">Home</a>
            <a href="#">Products</a>
            <a href="#">Policies</a>
            <a href="#">About Us</a>
            <!-- Cart Icon (Initially Hidden) -->
            <div id="cart-icon" class="hidden">
                <a href="cart.html" title="Your Cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count">0</span> <!-- Item counter -->
                </a>
            </div>
        </nav>
    </header>

    <!-- Gender Selection -->
    <section id="gender-selection" class="section">
        <div class="content-wrapper">
            <h2>SELECT YOUR FORM</h2>
            <div class="gender-options">
                <button class="gender-btn" data-gender="male">
                    <div class="gender-btn-icon">♂</div> <!-- Simple Unicode icon -->
                    <span>MALE</span>
                </button>
                <button class="gender-btn" data-gender="female">
                    <div class="gender-btn-icon">♀</div> <!-- Simple Unicode icon -->
                    <span>FEMALE</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Height & Weight Selection -->
    <section id="measurements" class="section hidden">
        <div class="content-wrapper">
            <h2>DEFINE YOUR DIMENSIONS</h2>
            <div class="measurement-controls">
                <div class="control-group">
                    <label for="height-picker">Height (cm)</label>
                    <div class="wheel-picker" id="height-picker">
                        <!-- Populated by JS -->
                    </div>
                </div>
                <div class="control-group">
                    <label for="weight-picker">Weight (kg)</label>
                    <div class="wheel-picker" id="weight-picker">
                         <!-- Populated by JS -->
                    </div>
                </div>
            </div>
            <button id="confirm-measurements" class="luxury-btn">CONFIRM</button>
        </div>
    </section>

        <section id="user-details" class="section hidden">
        <div class="content-wrapper">
            <h2>YOUR PROFILE</h2>
            <div class="profile-card">
                <div class="profile-header">
                    <h3>Measurements Confirmed</h3>
                </div>
                <div class="profile-body">
                    <p><strong>Gender:</strong> <span id="display-gender">-</span></p>
                    <p><strong>Height:</strong> <span id="display-height">-</span> cm</p>
                    <p><strong>Weight:</strong> <span id="display-weight">-</span> kg</p>
                </div>
            </div>
            <button id="start-shopping-btn" class="luxury-btn">START SHOPPING</button>
        </div>
    </section>

        <footer id="luxury-footer" class="hidden">
        <div class="footer-content">
            <div class="footer-section contact-info">
                <h4>CONTACT US</h4>
                <p><i class="fas fa-envelope"></i> info@luxuryapparel.com</p>
                <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                <p><i class="fas fa-map-marker-alt"></i> 123 Luxe Avenue, Fashion City</p>
            </div>

            <div class="footer-section made-by">
                <h4>MADE BY</h4>
                <p>LUXE Apparel &copy; <span id="current-year"></span></p>
                <p>Crafting Digital Experiences</p>
                <!-- You can add a small logo or signature here if desired -->
                 <div class="footer-logo-placeholder">
                    <!-- <img src="footer-logo.png" alt="LUXE Footer Logo"> -->
                     North
                </div>
            </div>

            <div class="footer-section logo-area">
                 <img src="2.png" alt="LUXE Logo" class="footer-logo">
            </div>
        </div>
        <div class="footer-bottom-bar"></div>
    </footer>

    <!-- Font Awesome for icons (Add this to your <head> if not already present) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">



    <!-- Three.js CDN -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js  ",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/  "
            }
        }
    </script>

 <script type="module">
        // --- DOM Elements ---
        const heroHeader = document.getElementById('hero-header');
        const genderSelection = document.getElementById('gender-selection');
        const measurementsSection = document.getElementById('measurements');
        const userDetailsSection = document.getElementById('user-details');
        const displayGender = document.getElementById('display-gender');
        const displayHeight = document.getElementById('display-height');
        const displayWeight = document.getElementById('display-weight');
        const startShoppingBtn = document.getElementById('start-shopping-btn');
        const luxuryFooter = document.getElementById('luxury-footer'); // Add reference to footer

        // --- State ---
        let selectedGender = null;
        let selectedHeight = 175;
        let selectedWeight = 70;

        // --- IndexedDB Setup ---
        const DB_NAME = 'LUXEApparelDB';
        const DB_VERSION = 1;
        const STORE_NAME = 'UserProfile';

        function openDB() {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(DB_NAME, DB_VERSION);

                request.onerror = () => reject(request.error);
                request.onsuccess = () => resolve(request.result);

                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains(STORE_NAME)) {
                        const objectStore = db.createObjectStore(STORE_NAME, { keyPath: 'id' });
                        console.log(`Object store ${STORE_NAME} created in DB ${DB_NAME}`);
                    }
                };
            });
        }

        async function saveProfile(profileData) {
            try {
                const db = await openDB();
                const transaction = db.transaction([STORE_NAME], 'readwrite');
                const store = transaction.objectStore(STORE_NAME);
                const dataToSave = { ...profileData, id: 'userProfile' }; // Fixed ID
                const request = store.put(dataToSave);
                return new Promise((resolve, reject) => {
                     request.onsuccess = () => {
                         console.log("Profile saved to IndexedDB:", dataToSave);
                         resolve();
                     };
                     request.onerror = () => {
                         console.error("Error saving to IndexedDB:", request.error);
                         reject(request.error);
                     };
                });
            } catch (error) {
                console.error("Error saving to IndexedDB:", error);
                throw error; // Re-throw to be caught by the caller
            }
        }

        async function loadProfile() {
            try {
                const db = await openDB();
                const transaction = db.transaction([STORE_NAME], 'readonly');
                const store = transaction.objectStore(STORE_NAME);
                const request = store.get('userProfile'); // Use fixed ID

                return new Promise((resolve, reject) => {
                    request.onsuccess = () => {
                        if (request.result) {
                            const { id, ...profileData } = request.result; // Remove ID
                            console.log("Profile loaded from IndexedDB:", profileData);
                            resolve(profileData);
                        } else {
                            console.log("No profile found in IndexedDB.");
                            resolve(null);
                        }
                    };
                    request.onerror = () => {
                        console.error("Error loading from IndexedDB:", request.error);
                        reject(request.error);
                    };
                });
            } catch (error) {
                console.error("Error loading from IndexedDB:", error);
                return null; // Fallback gracefully
            }
        }
        // --- End IndexedDB Setup ---

        // --- Data Persistence Functions (Using IndexedDB) ---
        // saveProfile and loadProfile are now the IndexedDB versions above.
        // --- End Data Persistence Functions ---

        // --- Footer Handling ---
        function showFooter() {
            if (luxuryFooter) {
                luxuryFooter.classList.remove('hidden');
                console.log("Footer displayed.");
                const yearSpan = document.getElementById('current-year');
                if (yearSpan) {
                    yearSpan.textContent = new Date().getFullYear();
                }

                // --- NEW: Show Cart Icon when footer is shown (i.e., profile confirmed/loaded) ---
                const cartIcon = document.getElementById('cart-icon');
                if (cartIcon) {
                    cartIcon.classList.remove('hidden');
                    console.log("Cart icon displayed.");
                    updateCartIcon(); // Update the count on display
                }
                // --- END NEW ---
            }
        }
        // --- End Footer Handling ---

        // --- Scroll and Initialization Logic ---
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        let lastScrollY = window.scrollY;
        let initialTransitionDone = false;
        let ticking = false;
        const SCROLL_THRESHOLD = 5;

        function updateHeaderOnScroll() {
            if (!initialTransitionDone) {
                if (window.scrollY > SCROLL_THRESHOLD) {
                    document.body.classList.add('scrolled');
                    setTimeout(() => {
                        initialTransitionDone = true;
                    }, 100);
                } else {
                    document.body.classList.remove('scrolled');
                }
            } else {
                if (window.scrollY > lastScrollY) {
                    heroHeader.classList.add('hide');
                } else {
                    heroHeader.classList.remove('hide');
                }
                lastScrollY = window.scrollY;
            }
            ticking = false;
        }

        window.addEventListener("beforeunload", function () {
            window.scrollTo(0, 0);
        });

        // Function to initialize the app based on saved profile or start fresh
        async function initializeApp() {
            try {
                const savedProfile = await loadProfile();

                if (savedProfile) {
                    console.log("Existing profile found. Initializing app state.");
                    // Populate state
                    selectedGender = savedProfile.gender;
                    selectedHeight = savedProfile.height;
                    selectedWeight = savedProfile.weight;

                    // Hide setup sections
                    genderSelection.classList.add('hidden');
                    measurementsSection.classList.add('hidden');

                    // Populate and show user details card
                    if (displayGender && displayHeight && displayWeight) {
                        displayGender.textContent = selectedGender ? selectedGender.charAt(0).toUpperCase() + selectedGender.slice(1) : '-';
                        displayHeight.textContent = selectedHeight;
                        displayWeight.textContent = selectedWeight;
                    }
                    userDetailsSection.classList.remove('hidden');
                    userDetailsSection.offsetHeight; // Trigger reflow

                    // --- CRITICAL: Show footer if profile exists ---
                    showFooter();
                    // --- End Show Footer ---

                } else {
                    console.log("No existing profile found. Starting fresh setup.");
                    // Ensure initial section is visible
                    genderSelection.classList.remove('hidden');
                    measurementsSection.classList.add('hidden');
                    userDetailsSection.classList.add('hidden');
                    // Footer remains hidden initially
                }
            } catch (error) {
                 console.error("Error initializing app:", error);
                 // Default state on error
                 genderSelection.classList.remove('hidden');
                 measurementsSection.classList.add('hidden');
                 userDetailsSection.classList.add('hidden');
            }
        }

        window.addEventListener('DOMContentLoaded', async () => { // Make listener async
            // Force fullscreen header at page load
            document.body.classList.remove('scrolled');
            heroHeader.classList.remove('fullscreen', 'hide'); // Remove classes if present
            initialTransitionDone = false;
            lastScrollY = 0;
            window.scrollTo(0, 0);
            console.log("Header initialized to fullscreen state.");

            // --- Initialize the app based on saved profile ---
            await initializeApp(); // Wait for profile check/load
            // --- End Initialization ---

            // --- Attach event listeners ---
            document.querySelectorAll('.gender-btn').forEach(btn => btn.addEventListener('click', selectGender));
            
            document.getElementById('confirm-measurements').addEventListener('click', confirmMeasurements);
            
            if (startShoppingBtn) {
                startShoppingBtn.addEventListener('click', startShopping); // Use the defined startShopping function
            }

            // Initialize wheel pickers
            initWheelPicker('height-picker', 150, 200, 1, selectedHeight);
            initWheelPicker('weight-picker', 50, 120, 1, selectedWeight);
            // --- End Attach Listeners ---
        });

        window.addEventListener('scroll', function () {
            if (!ticking) {
                requestAnimationFrame(updateHeaderOnScroll);
                ticking = true;
            }
        });
        // --- End Scroll and Initialization Logic ---

        // --- App Flow Functions ---
        function selectGender(event) {
            selectedGender = event.currentTarget.dataset.gender;
            console.log("Selected Gender:", selectedGender);
            genderSelection.classList.add('fade-out');
            setTimeout(() => {
                genderSelection.classList.add('hidden');
                measurementsSection.classList.remove('hidden');
                measurementsSection.offsetHeight;
                measurementsSection.classList.remove('fade-out');
            }, 600);
        }

        function initWheelPicker(containerId, min, max, step, initialValue) {
            const container = document.getElementById(containerId);
            const list = document.createElement('ul');
            list.className = 'picker-list';
            container.appendChild(list);

            const values = [];
            for (let i = min; i <= max; i += step) {
                values.push(i);
            }

            values.forEach(val => {
                const item = document.createElement('li');
                item.className = 'picker-item';
                item.textContent = val;
                if (val === initialValue) item.classList.add('active');
                list.appendChild(item);
            });

            let selectedIndex = values.indexOf(initialValue);
            const itemHeight = 50;
            list.style.transform = `translateY(${(2 - selectedIndex) * itemHeight}px)`;

            let startY = 0;
            let currentY = (2 - selectedIndex) * itemHeight;
            let isDragging = false;

            const startDrag = (clientY) => {
                isDragging = true;
                startY = clientY - currentY;
                list.style.transition = 'none';
            };

            const drag = (clientY) => {
                if (!isDragging) return;
                currentY = clientY - startY;
                list.style.transform = `translateY(${currentY}px)`;
            };

            const endDrag = () => {
                if (!isDragging) return;
                isDragging = false;
                list.style.transition = 'transform 0.5s cubic-bezier(0.17, 0.67, 0.83, 0.67)';

                const indexOffset = Math.round(-currentY / itemHeight);
                selectedIndex = 2 + indexOffset;

                if (selectedIndex < 0) selectedIndex = 0;
                if (selectedIndex >= values.length) selectedIndex = values.length - 1;

                currentY = (2 - selectedIndex) * itemHeight;
                list.style.transform = `translateY(${currentY}px)`;

                const items = container.querySelectorAll('.picker-item');
                items.forEach((item, i) => {
                    item.classList.toggle('active', i === selectedIndex);
                });

                if (containerId === 'height-picker') {
                    selectedHeight = values[selectedIndex];
                } else if (containerId === 'weight-picker') {
                    selectedWeight = values[selectedIndex];
                }
                console.log(`Selected ${containerId.split('-')[0]}:`, containerId === 'height-picker' ? selectedHeight : selectedWeight);
            };

            container.addEventListener('mousedown', (e) => startDrag(e.clientY));
            container.addEventListener('touchstart', (e) => startDrag(e.touches[0].clientY));

            document.addEventListener('mousemove', (e) => drag(e.clientY));
            document.addEventListener('touchmove', (e) => drag(e.touches[0].clientY));

            document.addEventListener('mouseup', endDrag);
            document.addEventListener('touchend', endDrag);
        }

        async function confirmMeasurements() {
            console.log("Confirmed:", { gender: selectedGender, height: selectedHeight, weight: selectedWeight });

            // --- Save Profile Data ---
            const profileData = {
                gender: selectedGender,
                height: selectedHeight,
                weight: selectedWeight,
                timestamp: new Date().toISOString()
            };
            try {
                await saveProfile(profileData);
                console.log("Profile saved successfully.");
            } catch (error) {
                console.error("Failed to save profile:", error);
                alert("Failed to save your profile data. Please try again.");
                return; // Stop if saving failed
            }
            // --- End Save Profile Data ---

            // --- Show Footer Immediately After Confirmation ---
            showFooter();
            // --- End Show Footer ---

            // 1. Populate the user details card
            if (displayGender && displayHeight && displayWeight) {
                displayGender.textContent = selectedGender ? selectedGender.charAt(0).toUpperCase() + selectedGender.slice(1) : '-';
                displayHeight.textContent = selectedHeight;
                displayWeight.textContent = selectedWeight;
            }

            // 2. Hide the measurements section with fade-out
            measurementsSection.classList.add('fade-out');
            setTimeout(() => {
                measurementsSection.classList.add('hidden');
                // 3. Show the user details section
                userDetailsSection.classList.remove('hidden');
                userDetailsSection.offsetHeight; // Trigger reflow
                userDetailsSection.classList.remove('fade-out');
            }, 600);
        }

        // Function for the "Start Shopping" button
        function startShopping() {
            console.log("Start Shopping button clicked - Navigating...");
            // Example: Navigate to another page
            window.location.href = 'fit copy.html'; // Replace with your target page
            // If you just want to show the footer (as a step), ensure it's already shown by confirmMeasurements
            // and perhaps hide userDetailsSection here.
            /*
            userDetailsSection.classList.add('fade-out');
            setTimeout(() => {
                userDetailsSection.classList.add('hidden');
            }, 600);
            */
        }

               const CART_STORAGE_KEY = 'luxuryApparel_cart';

        // Function to get cart from localStorage
        function getCart() {
            try {
                const cartData = localStorage.getItem(CART_STORAGE_KEY);
                return cartData ? JSON.parse(cartData) : [];
            } catch (e) {
                console.error("Error loading cart from localStorage:", e);
                return []; // Return empty cart on error
            }
        }

        // Function to save cart to localStorage
        function saveCart(cart) {
            try {
                localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));
                console.log("Cart saved to localStorage:", cart);
                updateCartIcon(); // Update the icon count after saving
            } catch (e) {
                console.error("Error saving cart to localStorage:", e);
            }
        }

        // Function to add an item to the cart
        function addToCart(itemDetails) {
             // itemDetails should be an object like:
             // { id: "hoodie-design1-M-red", name: "Hoodie Design 1", category: "hoodie", design: "design1", color: "red", size: "M", price: 299, quantity: 1 }
             let cart = getCart();
             const existingItemIndex = cart.findIndex(item => item.id === itemDetails.id);

             if (existingItemIndex > -1) {
                 // Item exists, update quantity
                 cart[existingItemIndex].quantity += itemDetails.quantity;
             } else {
                 // New item, add to cart
                 cart.push(itemDetails);
             }

             saveCart(cart);
             alert(`${itemDetails.name} added to cart!`);
        }

        // Function to update the cart icon count
        function updateCartIcon() {
            const cartIcon = document.getElementById('cart-icon');
            const cartCountElement = document.getElementById('cart-count');
            if (cartIcon && !cartIcon.classList.contains('hidden') && cartCountElement) {
                const cart = getCart();
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCountElement.textContent = totalItems;
                console.log(`Cart icon updated. Total items: ${totalItems}`);
            }
        }

        document.getElementById('add-to-cart-btn').addEventListener('click', function() {
            const selectedDesign = document.querySelector('.product-option.selected')?.dataset.design;
            const selectedColor = document.querySelector('.color-option.active')?.dataset.color;
            const selectedSize = document.querySelector('.size-option.active')?.dataset.size;
            if (selectedDesign && selectedColor && selectedSize && currentClothingType) {
                // Create a unique ID for the cart item
                const itemId = `${currentClothingType}-${selectedDesign}-${selectedSize}-${selectedColor}`;
                // Find the design name for display
                const designObj = designs.find(d => d.id === selectedDesign);
                const itemName = designObj ? designObj.name : `${currentClothingType} ${selectedDesign}`;
                const itemPrice = currentClothingType === 'hoodie' ? 299 : 199; // Example prices

                const itemToAdd = {
                    id: itemId,
                    name: itemName,
                    category: currentClothingType,
                    design: selectedDesign,
                    color: selectedColor,
                    size: selectedSize,
                    price: itemPrice,
                    quantity: 1 // Default quantity
                };

                addToCart(itemToAdd);
                // Close the modal after adding
                modal.classList.remove('show');
            } else {
                alert("Please select a design, color, and size.");
            }
        });
        // --- Similarly, update the generic 'Add to Cart' button listener ---
        // Inside the else block for generic items in openProductModal:
        // --- BEFORE ---
        // document.querySelector('.luxury-btn').addEventListener('click', function() {
        //      alert(`Added ${title} to cart!`);
        // });
        // --- AFTER ---
        document.querySelector('.luxury-btn').addEventListener('click', function() {
             // For generic items, create a simpler ID
             const itemId = `${category}-${section}`; // e.g., logo-standard
             const itemPrice = 49; // Example price for generic items

             const itemToAdd = {
                 id: itemId,
                 name: title, // Use the title generated earlier
                 category: category,
                 section: section, // standard, customization, extra
                 // design, color, size might not apply
                 price: itemPrice,
                 quantity: 1
             };

             addToCart(itemToAdd);
             // Close the modal after adding
             modal.classList.remove('show');
        });

        // Update copyright year (moved inside the main DOMContentLoaded listener above)
        // window.addEventListener('DOMContentLoaded', () => { ... }); // Removed duplicate listener
        // --- End App Flow Functions ---
    </script>
</body>
</html>


